<!DOCTYPE html>
<html lang="zh-tw">
<head>
	<meta charset="UTF-8">
	<title>邀請卡</title>
	<link rel="stylesheet" href="plugin/reset/min.css">
	<link rel="stylesheet" href="css/index.css">
	<script src="plugin/jquery/1.9.1.min.js"></script>
	<script src="plugin/jqueryui/1.10.3.min.js"></script>
	<script src="plugin/ckeditor/ckeditor.js"></script>
	<script src="plugin/html2canvas.js"></script>

	<script src="js/index.js"></script>
	<script src="plugin/pdf.js"></script>
	<style>
		#pdf-container {
			width: 560px;
			margin: 0 auto;
			text-align: center;
			position: absolute;
			top: 200px;
			left: 500px;
		}
		canvas {
			width: 100%;
		}
	</style>
</head>
	<body class="result">
		<header></header>
		<div class="wrap">
			<div id="pdf-container"></div>
			<div class="bg">
				<div class="bg-img"><img src="images/1.jpg"></div>
				<div class="text-box">
					<!-- <img class="img-detail" src="detail_images/1.png"> -->
				</div>
			</div>
			<form><input class="print" name="print" type="button" value="列印此頁" onclick="varitext()"></form>

		</div>
		<footer></footer>
	</body>
	<script>
		PDFJS.getDocument('test01.pdf').then(function(pdf) {
			for (var pageNum = 1; pageNum < pdf.numPages; ++pageNum) {
				pdf.getPage(pageNum).then(function(page) {
					// you can now use *page* here

					var scale = 5;
					var viewport = page.getViewport(scale);
					console.log(viewport)

					var canvas = document.createElement('canvas');
					var context = canvas.getContext('2d');
					canvas.height = viewport.height;
					canvas.width = viewport.width;

					var renderContext = {
						canvasContext: context,
						viewport: viewport
					};
					page.render(renderContext);

					document.getElementById('pdf-container').appendChild(canvas);
				});
			}
		})
	</script>
	<!-- <script>
		$(window).load(function() {
			loadStorage()
			// console.log("data傳過來了："+data)
			// console.log("type傳過來了："+type)
			if (optionValue==1) {
				//console.log(optionValue)
				//$(".text-box").append(data);
				$(".bg").addClass("style"+type);
				var src = "images/"+type+".jpg";
				var detail_src = "detail_images/"+detail+".png"
				$(".bg-img img").attr('src',src);
				$(".img-detail").attr('src',detail_src);
				html2canvas($(".bg")[0], {
					useCORS: true,
					letterRendering: 1,
					allowTaint : true,
					onrendered: function(canvas) {
						var $div = $(".bg");
						$div.empty();
						$("<img />", { src: canvas.toDataURL("image/png") }).appendTo($div);
					}
				});
			}else if (optionValue==2) {
				//$(".text-box").append(data);
				$(".bg").addClass("style"+type);
				var src = "images/"+type+".jpg";
				var detail_src = "detail_images/"+detail+".png"
				$(".bg-img img").attr('src',src);
				$(".img-detail").attr('src',detail_src);
			}


		})
	</script> -->
	<!-- <script>
		function varitext(text){
			$(".print").css('opacity','0');
			text=document
			print(text)
			setTimeout(function() {
				$(".print").css('opacity','1');
			},100)
		}
	</script> -->
</html>
